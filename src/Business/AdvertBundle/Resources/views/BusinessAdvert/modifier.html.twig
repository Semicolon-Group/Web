
{% extends 'business_base.html.twig' %}
{% block title %}Advert | Create{% endblock %}
 {% block stylesheets %}


     <link href="{{ asset('business_assets/') }}css/demo.css" rel="stylesheet" />
     <link href="{{ asset('business_assets/') }}css/main.css" rel="stylesheet" />

 {% endblock %}
{% block page_title %}Advert creation form{% endblock %}
{% block page_path %}
    <li class="breadcrumb-item">Advert</li>
    <li class="breadcrumb-item active">Create</li>
{% endblock %}
{% block scripts %}
    <script src="{{ asset('business_assets/') }}js/jq/jquery.countdown.js"></script>
    <script src="{{ asset('business_assets/') }}js/jq/jquery.countdown.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {

            $("#getting-started")
                .countdown($('#basebundle_advert_endDate_year').val()+"/"+$('#basebundle_advert_endDate_month').val()+"/"
                    +$('#basebundle_advert_endDate_day').val() ,  function (event) {
                    $(this).text(
                        event.strftime('%D days %H:%M:%S')
                    );
                });
        });

    </script>
{% endblock %}

{% block body %}

    <script src="{{ asset('member_assets/js/jquery-3.2.1.min.js') }} "></script>
    <script type="text/javascript" >
        $(document).ready(function () {
            $('#basebundle_advert_price').attr('readonly',"true");
            $('#valider').addClass("btn btn-success","fa fa-check-circle");
            $('#basebundle_advert_endDate_year').addClass("form-control");
            $('#basebundle_advert_endDate_month').addClass("form-control");
            $('#basebundle_advert_endDate_day').addClass("form-control");

            $('#basebundle_advert_content').addClass("form-control");
            $('#basebundle_advert_photoUrl').addClass("form-control");
            $('#basebundle_advert_videoUrl').addClass("form-control");

            $('#basebundle_advert_reason').addClass("form-control");
            $('#basebundle_advert_price').addClass("form-control");




            $('#25').click(function () {

                {
                    var pub = new Date(
                        $('#basebundle_advert_endDate_year').val()
                        ,
                        $('#basebundle_advert_endDate_month').val()-1
                        ,
                        $('#basebundle_advert_endDate_day').val());
                    var d = new Date();
                    var s = (pub.getTime()-d.getTime());
                    var diff = Math.ceil(s / (1000 * 3600 * 24));
                    var prixtotal = (diff * 10) ;
                    if (diff>0)
                    {
                        $('#basebundle_advert_price').val(prixtotal);
                        $('#prixtotal').html( pub + d + diff );
                        $('#durée').val(diff+" Jours");
                    }
                    else return null;

                }

            });
            $('#20').click(function () {

                {
                    var pub = new Date(
                        $('#basebundle_advert_endDate_year').val()
                        ,
                        $('#basebundle_advert_endDate_month').val()-1
                        ,
                        $('#basebundle_advert_endDate_day').val());
                    var d = new Date();
                    var s = (pub.getTime()-d.getTime());
                    var diff = Math.ceil(s / (1000 * 3600 * 24));
                    var prixtotal = (diff * 7) ;
                    if (diff>0)
                    {
                        $('#basebundle_advert_price').val(prixtotal);
                        $('#prixtotal').html( pub + d + diff );
                        $('#durée').val(diff+" Jours");
                    }
                    else return null;

                }

            });
            $('#15').click(function () {

                {
                    var pub = new Date(
                        $('#basebundle_advert_endDate_year').val()
                        ,
                        $('#basebundle_advert_endDate_month').val()-1
                        ,
                        $('#basebundle_advert_endDate_day').val());
                    var d = new Date();
                    var s = (pub.getTime()-d.getTime());
                    var diff = Math.ceil(s / (1000 * 3600 * 24));
                    var prixtotal = (diff * 4) ;
                    if (diff>0)
                    {
                        $('#basebundle_advert_price').val(prixtotal);
                        $('#prixtotal').html( pub + d + diff );
                        $('#durée').val(diff+" Jours");
                    }
                    else return null;

                }

            });




        });
    </script>
    {{ form_start(form,  { 'id': 'formtwig' }) }}<br>
    <table>
        <tr>
            <div id="getting-started">

            </div>
        </tr>


        <tr>
            <td>Content : </td>
            <td>{{ form_widget(form.content) }}</td>
        </tr>

        <tr id="photo" >
            <td>Photo : </td>
            <td> <img src="{{ asset('member_assets/images/') }}{{ (ad.photoUrl)  }} " style="width: 300px; height: 200px;"></td>
        </tr>
        <tr readonly="true">
            <td>Video :</td>
            <td> {{ form_widget(form.videoUrl) }}</td>
        </tr>



        <tr>
            <td>Reason</td>
            <td>{{ form_widget(form.reason) }}</td>
        </tr>

        <tr>
            <td>end date</td>
            <td>{{ form_widget(form.endDate ) }}</td>
        </tr>


        <div hidden="true">{{ form_widget(form.state) }}
            {{ form_widget(form.payed) }}
            {{ form_widget(form.position) }}
           </div>
        <tr>
            <td>prix :</td>
            <td>{{ form_widget(form.price)  }}</td>
        </tr>

        <tr>
            <td></td>
            <td class="demo-button">{{ form_widget(form.Valider ,  { 'id': 'valider' })  }}</td>
        </tr>



    </table>
    <div class="alert alert-warning alert-dismissible" role="alert" hidden="true" id="warning" >
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <i class="fa fa-warning"></i> Warning, Please fill all the fields
    </div>
    {{ form_end(form) }}
{% endblock %}


